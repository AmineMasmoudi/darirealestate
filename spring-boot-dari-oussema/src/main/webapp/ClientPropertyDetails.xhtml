<ui:composition xmlns="http://www.w3.org/1999/xhtml"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:c="http://java.sun.com/jsp/jstl/core"
xmlns:p="http://primefaces.org/ui"
template="/WEB-INF/template/template.xhtml">


<ui:define name="title">
Masmoudi Real Estate Agency
</ui:define>

<ui:define name="stylesheets">
<link href="css/plugins/slick/slick.css" rel="stylesheet"/>
    <link href="css/plugins/slick/slick-theme.css" rel="stylesheet"/>
</ui:define>


<ui:define name="content">

<div class="wrapper wrapper-content animated fadeInRight">
		<c:forEach var="house" items="#{visitJsfController.getProperties()}">
            <div class="row">
                <div class="col-lg-12">
                    <div class="ibox product-detail">
                        <div class="ibox-content">
                            <div class="row">
                                <div class="col-md-5">
                                    <div class="product-images slick-initialized slick-slider" role="toolbar"><button type="button" data-role="none" class="slick-prev slick-arrow" aria-label="Previous" role="button" style="display: block;">Previous</button>

                                        <div aria-live="polite" class="slick-list draggable"><div class="slick-track" role="listbox" style="opacity: 1; width: 2120px; transform: translate3d(-1272px, 0px, 0px);"><div class="slick-slide slick-cloned" data-slick-index="-1" aria-hidden="true" tabindex="-1" style="width: 424px;">
                                            <div class="image-imitation">
                                                [IMAGE 3]
                                            </div>
                                        </div><div class="slick-slide" data-slick-index="0" aria-hidden="true" tabindex="-1" role="option" aria-describedby="slick-slide00" style="width: 424px;">
                                            <div class="image-imitation">
                                                [IMAGE 1]
                                            </div>
                                        </div><div class="slick-slide" data-slick-index="1" aria-hidden="true" tabindex="-1" role="option" aria-describedby="slick-slide01" style="width: 424px;">
                                            <div class="image-imitation">
                                                [IMAGE 2]
                                            </div>
                                        </div><div class="slick-slide slick-current slick-active" data-slick-index="2" aria-hidden="false" tabindex="0" role="option" aria-describedby="slick-slide02" style="width: 424px;">
                                            <div class="image-imitation">
                                                [IMAGE 3]
                                            </div>
                                        </div><div class="slick-slide slick-cloned" data-slick-index="3" aria-hidden="true" tabindex="-1" style="width: 424px;">
                                            <div class="image-imitation">
                                                [IMAGE 1]
                                            </div>
                                        </div></div></div>
                                    <button type="button" data-role="none" class="slick-next slick-arrow" aria-label="Next" role="button" style="display: block;">Next</button><ul class="slick-dots" style="display: block;" role="tablist"><li class="" aria-hidden="true" role="presentation" aria-selected="true" aria-controls="navigation00" id="slick-slide00"><button type="button" data-role="none" role="button" aria-required="false" tabindex="0">1</button></li><li aria-hidden="true" role="presentation" aria-selected="false" aria-controls="navigation01" id="slick-slide01" class=""><button type="button" data-role="none" role="button" aria-required="false" tabindex="0">2</button></li><li aria-hidden="false" role="presentation" aria-selected="false" aria-controls="navigation02" id="slick-slide02" class="slick-active"><button type="button" data-role="none" role="button" aria-required="false" tabindex="0">3</button></li></ul></div>
                                </div>
                                <div class="col-md-7">

                                    <h2 class="font-bold m-b-xs">
                                        #{house.name}
                                    </h2>
                                    <small>#{house.buildingType}</small>
                                    <div class="m-t-md">
                                        <h2 class="product-main-price"><h:outputText value="#{house.price}">
    									<f:convertNumber type="currency" currencySymbol="â‚¬"/>
									</h:outputText><small class="text-muted">Exclude Tax</small> </h2>
                                    </div>
                                    <hr></hr>
                                    <h4>Take A Tour</h4>
                                    <div class="small text-muted">
                                        #{house.description}
                                        <p:datePicker id="inline" value="#{visitJsfController.datePicker}" inline="true" />
                                        <h:selectOneMenu class="form-control m-b" value="#{visitJsfController.visitType1}" required="true">
            								<f:selectItems value="#{data.visitTypes}"/>
        								</h:selectOneMenu> 
        								<h:commandButton action="#{visitJsfController.AddVisit()}" value="Take A Visit">
                                	 		<f:setPropertyActionListener target="#{visitJsfController.idHouse}" value="#{house.idHouse}" />
                                		</h:commandButton>
        							
                                    </div>
                                    <hr></hr>
                                    <h4>Loan Calculator</h4>
                                    <h:selectOneMenu class="form-control m-b" value="#{visitJsfController.loanyears}" required="true">
            								<f:selectItem itemValue="3" itemLabel="3 Years" />
            								<f:selectItem itemValue="5" itemLabel="5 Years" />
            								<f:selectItem itemValue="8" itemLabel="8 Years" />
            								<f:selectItem itemValue="10" itemLabel="10 Years" />
            								<f:selectItem itemValue="15" itemLabel="15 Years" />
            								<f:selectItem itemValue="30" itemLabel="30 Years" />
        							</h:selectOneMenu>
                                    	<h:commandButton id = "submitButton" value = "Calculate" action = "#{visitJsfController.monthlycost}" actionListener = "#{visitJsfController.updateData()}"></h:commandButton>
                                    	<h:outputLabel value="#{visitJsfController.monthlycost}" />
                                    <hr></hr>
                                    <div>
                                        <div class="btn-group">
	                                        <h:button class="btn btn-primary btn-sm" outcome="/VRvisit.jsf" value="Take A VR Visit"></h:button>
                                        </div>
                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="ibox-footer">
                            <span class="pull-right">
                                #{house.dateVisitDebut} <i class="fa fa-clock-o"></i> To #{house.dateVisitFin}
                            </span>
                            The house is open from  
                        </div>
                    </div>

                </div>
            </div>
		  </c:forEach>
        </div>
	</ui:define>

<ui:define name="jsproduct">
    
<!-- slick carousel-->
<script src="js/plugins/slick/slick.min.js"></script>
</ui:define>
    <ui:define name="scriptproduct"></ui:define>


<script>
    $(document).ready(function(){


        $('.product-images').slick({
            dots: true
        });

    });

</script>
</ui:composition>